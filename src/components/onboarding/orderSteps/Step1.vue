<template>
    <div class="subscription">
        <div :class="{ 'field--error wobble-error': $v.price_id.$error }" class="errors">
            <div class="error" v-if="$v.price_id.$dirty && !$v.price_id.required">Выберите план</div>
        </div>
        <div class="subscription__box">
            <div class="subscription-card" :class="{choosen: price_id == '1'}" @click="price_id = '1'">
                <svg width="35" height="35" viewBox="0 0 35 35" xmlns="http://www.w3.org/2000/svg">
                    <path
                            d="M22.6748 18.8174L15.509 25.2648L12.1334 21.8615C12.0798 21.8079 12.0163 21.7655 11.9464 21.7365C11.8764 21.7076 11.8015 21.6926 11.7258 21.6926C11.6501 21.6926 11.5752 21.7076 11.5052 21.7365C11.4353 21.7655 11.3718 21.8079 11.3182 21.8615C11.2647 21.915 11.2223 21.9785 11.1933 22.0485C11.1643 22.1184 11.1494 22.1933 11.1494 22.269C11.1494 22.3447 11.1643 22.4197 11.1933 22.4896C11.2223 22.5595 11.2647 22.6231 11.3182 22.6766L15.0899 26.4667C15.1969 26.5681 15.3386 26.6246 15.486 26.6246C15.6334 26.6246 15.7751 26.5681 15.8821 26.4667L23.4439 19.674C23.5015 19.6238 23.5485 19.5628 23.5823 19.4943C23.6161 19.4258 23.6359 19.3513 23.6406 19.2751C23.6453 19.1989 23.6347 19.1225 23.6096 19.0504C23.5845 18.9783 23.5453 18.9119 23.4943 18.8551C23.4433 18.7983 23.3815 18.7522 23.3125 18.7195C23.2436 18.6868 23.1687 18.6682 23.0925 18.6647C23.0162 18.6612 22.94 18.6729 22.8683 18.6991C22.7966 18.7253 22.7308 18.7655 22.6748 18.8174Z"
                    />
                    <path
                            d="M34.6758 12.9859C34.6227 12.9136 34.5533 12.8546 34.4734 12.8139C34.3934 12.7731 34.305 12.7516 34.2153 12.751H27.9844L23.1857 2.30168C23.1623 2.22344 23.1226 2.15105 23.0691 2.08934C23.0157 2.02763 22.9497 1.97799 22.8756 1.94374C22.8014 1.90948 22.7209 1.89138 22.6392 1.89065C22.5576 1.88991 22.4767 1.90656 22.402 1.93948C22.3272 1.9724 22.2604 2.02083 22.2058 2.08158C22.1512 2.14232 22.1102 2.21398 22.0855 2.29179C22.0607 2.3696 22.0528 2.45179 22.0623 2.5329C22.0717 2.614 22.0983 2.69217 22.1403 2.76221L26.7041 12.7326H8.0804L12.6442 2.76221C12.6862 2.69217 12.7128 2.614 12.7222 2.5329C12.7317 2.45179 12.7238 2.3696 12.699 2.29179C12.6743 2.21398 12.6333 2.14232 12.5787 2.08158C12.5241 2.02083 12.4572 1.9724 12.3825 1.93948C12.3078 1.90656 12.2269 1.88991 12.1453 1.89065C12.0636 1.89138 11.9831 1.90948 11.9089 1.94374C11.8348 1.97799 11.7688 2.02763 11.7154 2.08934C11.6619 2.15105 11.6222 2.22344 11.5988 2.30168L6.80014 12.751H0.573823C0.483798 12.7513 0.395095 12.7727 0.31484 12.8135C0.234584 12.8543 0.165014 12.9133 0.111718 12.9859C0.0584215 13.0584 0.0228851 13.1425 0.00796302 13.2313C-0.00695907 13.32 -0.000850816 13.4111 0.0257973 13.4971L5.87909 32.1438C5.91538 32.2609 5.9881 32.3633 6.08667 32.4362C6.18525 32.5091 6.30452 32.5487 6.42711 32.549H28.362C28.4838 32.5477 28.602 32.5077 28.6997 32.4349C28.7973 32.3621 28.8694 32.2601 28.9054 32.1438L34.7541 13.4971C34.7818 13.4117 34.7892 13.321 34.7756 13.2322C34.762 13.1434 34.7278 13.0591 34.6758 12.9859ZM27.9383 31.3931H6.84619L1.35672 13.8931H33.4278L27.9383 31.3931Z"
                    />
                </svg>
                <h2>Разовая покупка</h2>
                <span class="subscription-card__ul-title">В набор входит:</span>
                <ul>
                    <li>2 игрушки от Green Line Group</li>
                    <li>Мячик из ворса и резины</li>
                    <li>2 упаковки лаакомства</li>
                    <li>2 шашлычка от фирмы TitBit</li>
                </ul>
                <p class="subscription-card__pricing">
                    Стоимость заказа
                    <br/>1500 рублей
                </p>
            </div>
            <div class="subscription-card" :class="{choosen: price_id == '2'}" @click="price_id = '2'">
                <svg width="35" height="35" viewBox="0 0 35 35" xmlns="http://www.w3.org/2000/svg">
                    <path
                            d="M24.5003 6.99563H11.9061L16.1586 2.74312C16.3861 2.51562 16.3861 2.14812 16.1586 1.92062C15.9311 1.69313 15.5636 1.69313 15.3361 1.92062L10.0861 7.17063C10.0336 7.22312 9.98698 7.28729 9.95781 7.36312C9.89948 7.50313 9.89948 7.66646 9.95781 7.80646C9.98698 7.87646 10.0278 7.94063 10.0861 7.99896L15.3361 13.249C15.4528 13.354 15.5986 13.4123 15.7503 13.4123C15.902 13.4123 16.0478 13.354 16.1645 13.2431C16.392 13.0156 16.392 12.6481 16.1645 12.4206L11.9061 8.16229H24.5003C29.6453 8.16229 33.8336 12.3506 33.8336 17.4956C33.8336 19.9748 32.8595 22.314 31.092 24.0815C30.8645 24.309 30.8645 24.6765 31.092 24.904C31.2086 25.0206 31.3545 25.0731 31.5061 25.0731C31.6578 25.0731 31.8036 25.0148 31.9203 24.904C33.9036 22.9206 35.0003 20.2898 35.0003 17.4956C35.0003 11.709 30.287 6.99563 24.5003 6.99563Z"
                    />
                    <path
                            d="M20.8308 21.7489C20.6033 21.5214 20.2358 21.5214 20.0083 21.7489C19.7808 21.9764 19.7808 22.3439 20.0083 22.5714L24.2608 26.8298H10.5C5.355 26.8298 1.16667 22.6414 1.16667 17.4964C1.16667 15.2914 1.96 13.1448 3.40083 11.4589C3.61083 11.2139 3.58167 10.8464 3.33667 10.6364C3.09167 10.4264 2.72417 10.4556 2.51417 10.7006C0.8925 12.5964 0 15.0114 0 17.4964C0 23.2831 4.71333 27.9964 10.5 27.9964H24.2608L20.0083 32.2489C19.7808 32.4764 19.7808 32.8439 20.0083 33.0714C20.1192 33.1881 20.265 33.2464 20.4167 33.2464C20.5683 33.2464 20.7142 33.1881 20.8308 33.0773L26.0808 27.8273C26.3083 27.5998 26.3083 27.2323 26.0808 27.0048L20.8308 21.7489Z"
                    />
                </svg>
                <h2>
                    Подписка на 6
                    <br/>месяцев
                </h2>
                <span class="subscription-card__ul-title">В набор входит:</span>
                <ul>
                    <li>2 игрушки от Green Line Group</li>
                    <li>Мячик из ворса и резины</li>
                    <li>2 упаковки лаакомства</li>
                    <li>2 шашлычка от фирмы TitBit</li>
                </ul>
                <p class="subscription-card__discount">
                    Единовременная оплата со
                    <br/>
                    <span>скидкой 20%</span>
                </p>
                <span class="subscription-card__delivery">Доставка ежемесячно</span>
            </div>
            <div class="subscription-card" :class="{choosen: price_id == '3'}" @click="price_id = '3'">
                <svg width="35" height="35" viewBox="0 0 35 35" xmlns="http://www.w3.org/2000/svg">
                    <path
                            d="M17.4661 0.000682483C17.4333 0.0061241 17.4012 0.0152981 17.3704 0.0280262C17.3154 0.045186 17.2642 0.0730641 17.22 0.110057L14.1438 2.81709L10.2063 1.72334C10.1046 1.69466 9.99601 1.70377 9.90051 1.74901C9.80501 1.79425 9.7291 1.87255 9.68681 1.96943L8.0872 5.7292L4.08134 6.45381C3.97756 6.47021 3.88314 6.52345 3.81536 6.60378C3.74757 6.68412 3.71096 6.78618 3.7122 6.89131L3.90361 10.9655L0.608687 13.3718C0.527463 13.4341 0.470665 13.523 0.448181 13.6229C0.425698 13.7228 0.438953 13.8275 0.48564 13.9187L2.41337 17.5144L0.48564 21.1101C0.438953 21.2012 0.425698 21.3059 0.448181 21.4058C0.470665 21.5057 0.527463 21.5946 0.608687 21.6569L3.91728 24.0632L3.7122 28.1374C3.71096 28.2425 3.74757 28.3446 3.81536 28.4249C3.88314 28.5053 3.97756 28.5585 4.08134 28.5749L8.0872 29.2995L9.68681 33.0593C9.7291 33.1562 9.80501 33.2345 9.90051 33.2797C9.99601 33.3249 10.1046 33.3341 10.2063 33.3054L14.1438 32.2116L17.22 34.9186C17.2987 34.9843 17.3978 35.0203 17.5003 35.0203C17.6027 35.0203 17.7019 34.9843 17.7806 34.9186L20.8567 32.2116L24.7669 33.3054C24.8686 33.3341 24.9772 33.3249 25.0727 33.2797C25.1682 33.2345 25.2441 33.1562 25.2864 33.0593L26.8997 29.2995L30.8919 28.5749C30.9957 28.5585 31.0901 28.5053 31.1579 28.4249C31.2257 28.3446 31.2623 28.2425 31.261 28.1374L31.0559 24.0632L34.3782 21.6569C34.4617 21.5965 34.5213 21.5085 34.5463 21.4085C34.5713 21.3084 34.5602 21.2027 34.5149 21.1101L32.5735 17.5144L34.5149 13.9187C34.5602 13.826 34.5713 13.7203 34.5463 13.6203C34.5213 13.5202 34.4617 13.4322 34.3782 13.3718L31.0833 10.9655L31.261 6.89131C31.2623 6.78618 31.2257 6.68412 31.1579 6.60378C31.0901 6.52345 30.9957 6.47021 30.8919 6.45381L26.8997 5.7292L25.2864 1.96943C25.2441 1.87255 25.1682 1.79425 25.0727 1.74901C24.9772 1.70377 24.8686 1.69466 24.7669 1.72334L20.8567 2.81709L17.7806 0.110057C17.6942 0.0335533 17.5812 -0.00575526 17.4661 0.000682483ZM17.4935 1.02607L20.4466 3.62373C20.5027 3.67059 20.5696 3.70265 20.6412 3.71698C20.7129 3.73131 20.787 3.72745 20.8567 3.70576L24.6438 2.65303L26.1888 6.27607C26.2143 6.34422 26.2565 6.40491 26.3114 6.45266C26.3663 6.5004 26.4322 6.53369 26.5032 6.54951L30.3724 7.2331L30.1946 11.1706C30.1919 11.242 30.2067 11.3129 30.2376 11.3773C30.2686 11.4416 30.3149 11.4974 30.3724 11.5397L33.5579 13.8503L31.6712 17.3093C31.6377 17.3724 31.6202 17.4429 31.6202 17.5144C31.6202 17.5859 31.6377 17.6563 31.6712 17.7194L33.5579 21.1784L30.3724 23.489C30.3149 23.5313 30.2686 23.5871 30.2376 23.6514C30.2067 23.7158 30.1919 23.7867 30.1946 23.8581L30.3724 27.7956L26.5032 28.4792C26.4322 28.495 26.3663 28.5283 26.3114 28.5761C26.2565 28.6238 26.2143 28.6845 26.1888 28.7526L24.6438 32.3757L20.8567 31.3229C20.787 31.3013 20.7129 31.2974 20.6412 31.3117C20.5696 31.3261 20.5027 31.3581 20.4466 31.405L17.4935 34.0026L14.5403 31.405C14.4842 31.3581 14.4173 31.3261 14.3457 31.3117C14.274 31.2974 14.1999 31.3013 14.1302 31.3229L10.3567 32.3757L8.81181 28.7526C8.78385 28.681 8.73755 28.6181 8.67754 28.5701C8.61754 28.5221 8.54597 28.4907 8.47001 28.4792L4.62822 27.7956L4.79228 23.8581C4.79348 23.7855 4.77661 23.7138 4.74319 23.6493C4.70978 23.5849 4.66087 23.5298 4.60087 23.489L1.429 21.1784L3.30205 17.7194C3.33553 17.6563 3.35304 17.5859 3.35304 17.5144C3.35304 17.4429 3.33553 17.3724 3.30205 17.3093L1.429 13.8503L4.60087 11.5397C4.66087 11.4989 4.70978 11.4438 4.74319 11.3794C4.77661 11.3149 4.79348 11.2432 4.79228 11.1706L4.62822 7.2331L8.47001 6.54951C8.54597 6.53798 8.61754 6.50664 8.67754 6.45863C8.73755 6.41063 8.78385 6.34767 8.81181 6.27607L10.3567 2.65303L14.1302 3.70576C14.1999 3.72745 14.274 3.73131 14.3457 3.71698C14.4173 3.70265 14.4842 3.67059 14.5403 3.62373L17.4935 1.02607ZM13.1731 10.9245C11.8956 10.9245 10.8489 11.9576 10.8489 13.2351C10.8489 14.5125 11.8956 15.5593 13.1731 15.5593C14.4507 15.5593 15.4974 14.5125 15.4974 13.2351C15.4974 11.9576 14.4507 10.9245 13.1731 10.9245ZM13.1731 11.7995C13.9779 11.7995 14.6224 12.4306 14.6224 13.2351C14.6224 14.0395 13.9779 14.6843 13.1731 14.6843C12.3684 14.6843 11.7239 14.0395 11.7239 13.2351C11.7239 12.4306 12.3684 11.7995 13.1731 11.7995ZM22.6204 11.8952C22.5207 11.9095 22.4289 11.9578 22.3606 12.0319L12.011 22.3679C11.9632 22.4064 11.924 22.4546 11.8961 22.5092C11.8681 22.5639 11.8519 22.6238 11.8487 22.6851C11.8454 22.7465 11.855 22.8078 11.877 22.8651C11.899 22.9225 11.9328 22.9745 11.9762 23.018C12.0196 23.0614 12.0717 23.0952 12.129 23.1171C12.1864 23.1391 12.2477 23.1488 12.309 23.1455C12.3703 23.1422 12.4302 23.126 12.4849 23.0981C12.5396 23.0701 12.5877 23.0309 12.6263 22.9831L22.9759 12.6472C23.0429 12.5838 23.0882 12.5008 23.1052 12.4101C23.1222 12.3195 23.1102 12.2257 23.0708 12.1423C23.0313 12.0589 22.9665 11.9901 22.8857 11.9457C22.8048 11.9013 22.7119 11.8837 22.6204 11.8952ZM21.8138 19.4558C20.5362 19.4558 19.4895 20.5025 19.4895 21.78C19.4895 23.0574 20.5362 24.1042 21.8138 24.1042C23.0913 24.1042 24.138 23.0574 24.138 21.78C24.138 20.5025 23.0913 19.4558 21.8138 19.4558ZM21.8138 20.3308C22.6185 20.3308 23.263 20.9755 23.263 21.78C23.263 22.5845 22.6185 23.2292 21.8138 23.2292C21.0091 23.2292 20.3645 22.5845 20.3645 21.78C20.3645 20.9755 21.009 20.3308 21.8138 20.3308Z"
                    />
                </svg>
                <h2>
                    Покупка на 6
                    <br/>месяцев
                </h2>
                <span class="subscription-card__ul-title">В набор входит:</span>
                <ul>
                    <li>2 игрушки от Green Line Group</li>
                    <li>Мячик из ворса и резины</li>
                    <li>2 упаковки лаакомства</li>
                    <li>2 шашлычка от фирмы TitBit</li>
                </ul>
                <p class="subscription-card__discount">
                    Единовременная оплата со
                    <br/>
                    <span>скидкой 20%</span>
                </p>
                <span class="subscription-card__delivery">Доставка ежемесячно</span>
            </div>
        </div>
        <h3 class="charity">5% от суммы заказа отправляем на благотворительность</h3>
    </div>
</template>

<script>
  import { required } from 'vuelidate/lib/validators'

  export default {
    name: 'Step1',
    props: ['order'],
    computed: {
      price_id: {
        get () {
          return this.order.price_id
        },
        set (val) {
          this.$emit('update:order', {
            ...this.order,
            price_id: val
          })
        }
      },
    },
    validations: {
      price_id: {
        required,
      }
    }
  }
</script>

<style lang="scss" scoped>
    @import "@/assets/styles/_forms.scss";

    .subscription {
        display: flex;
        flex-flow: column nowrap;
        justify-content: space-around;

        &__box {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(251px, 1fr));
            grid-gap: 85px;
            margin: 0 5px;
        }

        &-card {
            box-sizing: border-box;
            transition: 0.3s linear all;
            border: 2px solid #2289b5;
            border-radius: 25px;
            text-align: center;
            min-width: 251px;
            cursor: pointer;
            padding: 20px;

            svg {
                fill: #2289b5;
            }

            h2 {
                line-height: 22px;
                font-size: 18px;
                margin: 5px 0 38px 0;
                display: flex;
                align-items: center;
                justify-content: center;
                min-height: 44px;
            }

            &__ul-title {
                font-weight: 500;
                font-size: 13px;
                line-height: 16px;
                text-align: center;
            }

            ul {
                padding: 0;
                list-style-type: none;

                li {
                    font-size: 13px;
                    line-height: 20px;
                }
            }

            &__pricing {
                font-weight: 600;
                font-size: 14px;
                line-height: 20px;
            }

            &__discount {
                font-size: 12px;
                line-height: 20px;

                span {
                    font-size: 14px;
                    font-weight: 600;
                }
            }

            &__delivery {
                font-size: 12px;
                font-weight: 500;
                line-height: 20px;
            }

            &:hover {
                border-color: #ffcc01;
                box-shadow: 0 0 10px 0 rgba(0, 0, 0, .7);
            }
        }

        .charity {
            font-weight: 500;
            font-size: 14px;
            line-height: 24px;
            margin-bottom: 40px;
            margin-top: 30px;
        }

        .choosen {
            background-color: #2289b5;
            color: white;

            svg {
                fill: white;
            }
        }

        .errors {
            padding: 15px;
        }
    }
</style>
